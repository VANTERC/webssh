(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-24d65c82"],{db7b:function(t,e,a){"use strict";var s=a("dd0d");a.n(s).a},dc3f:function(t,e,a){"use strict";a.r(e);var s={data:function(){return{customActiveKey:"tab1",loginBtn:!1,loginType:0,isLoginError:!1,requiredTwoStepCaptcha:!1,stepCaptchaVisible:!1,form:this.$form.createForm(this),state:{time:60,loginBtn:!1,loginType:0,smsSendBtn:!1}}},created:function(){},mounted:function(){document.body.classList.add("userLayout")},methods:{handleUsernameOrEmail:function(t,e,a){var s=this.state;/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/.test(e)?s.loginType=0:s.loginType=1,a()},handleTabClick:function(t){this.customActiveKey=t},handleSubmit:function(t){var e=this;t.preventDefault(),this.form.validateFields((function(t,a){if(!t){var s={userName:a.username,password:a.password};e.$api.user.login(s).then((function(t){var a={userName:t.data.userName,userId:t.data.userId,token:t.data.token};e.$store.commit("SET_USERINFO",a),e.state.loginBtn=!0,e.loginSuccess()}))}}))},getCaptcha:function(){},stepCaptchaCancel:function(){var t=this;this.Logout().then((function(){t.loginBtn=!1,t.stepCaptchaVisible=!1}))},loginSuccess:function(){var t=this;setTimeout((function(){t.$notification.success({message:"欢迎",description:"欢迎回来"})}),1e3),this.$router.push({path:"/index"}),this.isLoginError=!1},requestFailed:function(t){this.isLoginError=!0,this.$notification.error({message:"错误",description:((t.response||{}).data||{}).message||"请求出现错误，请稍后再试",duration:4})}},beforeDestroy:function(){document.body.classList.remove("userLayout")}},r=(a("db7b"),a("2877")),i=Object(r.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-layout-wrapper",attrs:{id:"userLayout"}},[a("div",{staticClass:"container"},[t._m(0),a("div",{staticClass:"main"},[a("a-form",{ref:"formLogin",staticClass:"user-layout-login",attrs:{id:"formLogin",form:t.form},on:{submit:t.handleSubmit}},[a("a-tabs",{attrs:{activeKey:t.customActiveKey,tabBarStyle:{textAlign:"center",borderBottom:"unset"}},on:{change:t.handleTabClick}},[a("a-tab-pane",{key:"tab1",attrs:{tab:"用户名密码登录"}},[t.isLoginError?a("a-alert",{staticStyle:{"margin-bottom":"24px"},attrs:{type:"error",showIcon:"",message:"用户名或密码错误（admin/ant.design )"}}):t._e(),a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{rules:[{required:!0,message:"请输入用户名"},{validator:t.handleUsernameOrEmail}],validateTrigger:"change"}],expression:"[\n                  'username',\n                  {\n                    rules: [\n                      { required: true, message: '请输入用户名' },\n                      { validator: handleUsernameOrEmail }\n                    ],\n                    validateTrigger: 'change'\n                  }\n                ]"}],attrs:{size:"large",type:"text",placeholder:"用户名"}},[a("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),a("a-form-item",[a("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"请输入密码"}],validateTrigger:"blur"}],expression:"[\n                  'password',\n                  {\n                    rules: [{ required: true, message: '请输入密码' }],\n                    validateTrigger: 'blur'\n                  }\n                ]"}],attrs:{size:"large",placeholder:"密码"}},[a("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1)],1)],1),a("a-form-item",{staticStyle:{"margin-top":"24px"}},[a("a-button",{staticClass:"login-button",attrs:{size:"large",type:"primary",htmlType:"submit",loading:t.state.loginBtn,disabled:t.state.loginBtn}},[t._v("确定")])],1)],1)],1)])])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"top"},[a("div",{staticClass:"header"},[a("a",{attrs:{href:"/"}},[a("span",{staticClass:"title"},[t._v("WEBSSH")])])]),a("div",{staticClass:"desc"},[t._v("web版主机终端管理器")])])}],!1,null,"0ca27ee0",null);e.default=i.exports},dd0d:function(t,e,a){}}]);